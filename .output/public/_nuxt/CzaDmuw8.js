import{e as W,v as Qe,af as ua,x as da,y as ce,ag as ca,z as pa,ah as Xe,r as me,l as B,A as Ye,m as h,o as u,w as p,b as k,h as a,P as pe,B as D,p as M,C as ga,W as Ze,E as ve,ae as fa,ai as ma,d as O,t as G,D as j,aj as ea,T as Oe,U as va,K as je,L as ba,M as ha,ak as ya,N as Ia,al as xa,am as _a,Q as za,an as xe,ao as Me,R as wa,ap as ka,aq as Aa,ar as Ta,as as Q,at as qe,c as X,F as ae,au as Ne,q as z,av as He,G as Ue,a as fe,aw as Va,ax as Ca,s as _e,n as de,ay as Ge,az as We,aA as $a,aB as Ba,aC as La,aD as Sa,aE as Da,aF as Fa,aG as Ea,aH as Pa,aI as Ra,aJ as Ka,a3 as Oa,i as ja,j as Ma,_ as qa,I as Na,a1 as Ha,a7 as Ua}from"./CByrxgib.js";import{a as be,_ as Ga}from"./Ce0Xz4dc.js";import{_ as he}from"./DlAUqK2U.js";import"./CNiE35Tx.js";const Wa=["INPUT","TEXTAREA"];function Ja(o,g,t,e={}){if(!g||e.enableIgnoredElement&&Wa.includes(g.nodeName))return null;const{arrowKeyOptions:c="both",attributeName:x="[data-reka-collection-item]",itemsArray:s=[],loop:m=!0,dir:T="ltr",preventScroll:F=!0,focus:r=!1}=e,[_,A,i,n,y,V]=[o.key==="ArrowRight",o.key==="ArrowLeft",o.key==="ArrowUp",o.key==="ArrowDown",o.key==="Home",o.key==="End"],K=i||n,q=_||A;if(!y&&!V&&(!K&&!q||c==="vertical"&&q||c==="horizontal"&&K))return null;const N=s;if(!N.length)return null;F&&o.preventDefault();let I=null;return q||K?I=aa(N,g,{goForward:K?n:T==="ltr"?_:A,loop:m}):y?I=N.at(0)||null:V&&(I=N.at(-1)||null),r&&(I==null||I.focus()),I}function aa(o,g,t,e=o.length){if(--e===0)return null;const c=o.indexOf(g),x=t.goForward?c+1:c-1;if(!t.loop&&(x<0||x>=o.length))return null;const s=(x+o.length)%o.length,m=o[s];return m?m.hasAttribute("disabled")&&m.getAttribute("disabled")!=="false"?aa(o,m,t,e):m:null}const[ze,Qa]=Ye("TagsInputRoot"),Xa=W({__name:"TagsInputRoot",props:{modelValue:{},defaultValue:{default:()=>[]},addOnPaste:{type:Boolean},addOnTab:{type:Boolean},addOnBlur:{type:Boolean},duplicate:{type:Boolean},disabled:{type:Boolean},delimiter:{default:","},dir:{},max:{default:0},id:{},convertValue:{},displayValue:{type:Function,default:o=>o.toString()},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","invalid","addTag","removeTag"],setup(o,{emit:g}){const t=o,e=g,{addOnPaste:c,disabled:x,delimiter:s,max:m,id:T,dir:F,addOnBlur:r,addOnTab:_}=Qe(t),A=ua(F),i=da(t,"modelValue",e,{defaultValue:t.defaultValue,passive:!0,deep:!0}),{forwardRef:n,currentElement:y}=ce(),{focused:V}=ca(y),K=pa(y),{getItems:q,CollectionSlot:N}=Xe({isProvider:!0}),I=me(),Y=me(!1),te=B(()=>Array.isArray(i.value)?[...i.value]:[]);function le(v){if(v!==-1){const C=q().filter(L=>L.ref.dataset.disabled!=="");i.value=i.value.filter((L,E)=>E!==v),e("removeTag",C[v].value)}}return Qa({modelValue:i,onAddValue:v=>{const C=[...te.value],L=C.length>0&&typeof C[0]=="object",E=C.length>0&&typeof t.defaultValue[0]=="object";if((L||E)&&typeof t.convertValue!="function")throw new Error("You must provide a `convertValue` function when using objects as values.");const w=t.convertValue?t.convertValue(v):v;if(C.length>=m.value&&m.value)return e("invalid",w),!1;if(t.duplicate)return i.value=[...C,w],e("addTag",w),!0;if(C.includes(w))Y.value=!0;else return i.value=[...C,w],e("addTag",w),!0;return e("invalid",w),!1},onRemoveValue:le,onInputKeydown:v=>{const C=v.target,L=q().map(w=>w.ref).filter(w=>w.dataset.disabled!=="");if(!L.length)return;const E=L.at(-1);switch(v.key){case"Delete":case"Backspace":{if(C.selectionStart!==0||C.selectionEnd!==0)break;if(I.value){const w=L.findIndex(J=>J===I.value);le(w),I.value=I.value===E?L.at(w-1):L.at(w+1),v.preventDefault()}else v.key==="Backspace"&&(I.value=E,v.preventDefault());break}case"Home":case"End":case"ArrowRight":case"ArrowLeft":{const w=v.key==="ArrowRight"&&A.value==="ltr"||v.key==="ArrowLeft"&&A.value==="rtl",J=!w;if(C.selectionStart!==0||C.selectionEnd!==0)break;if(J&&!I.value)I.value=E,v.preventDefault();else if(w&&E&&I.value===E)I.value=void 0,v.preventDefault();else if(I.value){const Z=Ja(v,I.value,void 0,{itemsArray:L,loop:!1,dir:A.value});Z&&(I.value=Z),v.preventDefault()}break}case"ArrowUp":case"ArrowDown":{I.value&&v.preventDefault();break}default:I.value=void 0}},selectedElement:I,isInvalidInput:Y,addOnPaste:c,addOnBlur:r,addOnTab:_,dir:A,disabled:x,delimiter:s,max:m,id:T,displayValue:t.displayValue}),(v,C)=>(u(),h(a(N),null,{default:p(()=>[k(a(pe),{ref:a(n),dir:a(A),as:v.as,"as-child":v.asChild,"data-invalid":Y.value?"":void 0,"data-disabled":a(x)?"":void 0,"data-focused":a(V)?"":void 0},{default:p(()=>[D(v.$slots,"default",{modelValue:a(i)}),a(K)&&v.name?(u(),h(a(ga),{key:0,name:v.name,value:a(i),required:v.required,disabled:a(x)},null,8,["name","value","required","disabled"])):M("",!0)]),_:3},8,["dir","as","as-child","data-invalid","data-disabled","data-focused"])]),_:3}))}}),Ya=W({__name:"TagsInputInput",props:{placeholder:{},autoFocus:{type:Boolean},maxLength:{},asChild:{type:Boolean},as:{default:"input"}},setup(o){const g=o,t=ze(),{forwardRef:e,currentElement:c}=ce();function x(i){if(!t.addOnBlur.value)return;const n=i.target;if(!n.value)return;t.onAddValue(n.value)&&(n.value="")}function s(i){t.addOnTab.value&&r(i)}const m=me(!1);function T(){m.value=!0}function F(){requestAnimationFrame(()=>{m.value=!1})}async function r(i){if(m.value||(await fa(),i.defaultPrevented))return;const n=i.target;if(!n.value)return;t.onAddValue(n.value)&&(n.value=""),i.preventDefault()}function _(i){if(t.isInvalidInput.value=!1,i.data===null)return;const n=t.delimiter.value;if(n===i.data||n instanceof RegExp&&n.test(i.data)){const V=i.target;V.value=V.value.replace(n,""),t.onAddValue(V.value)&&(V.value="")}}function A(i){if(t.addOnPaste.value){i.preventDefault();const n=i.clipboardData;if(!n)return;const y=n.getData("text");t.delimiter.value?y.split(t.delimiter.value).forEach(K=>{t.onAddValue(K)}):t.onAddValue(y)}}return Ze(()=>{const i=c.value.nodeName==="INPUT"?c.value:c.value.querySelector("input");i&&setTimeout(()=>{g.autoFocus&&(i==null||i.focus())},1)}),(i,n)=>{var y;return u(),h(a(pe),{id:(y=a(t).id)==null?void 0:y.value,ref:a(e),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",as:i.as,"as-child":i.asChild,maxlength:i.maxLength,placeholder:i.placeholder,disabled:a(t).disabled.value,"data-invalid":a(t).isInvalidInput.value?"":void 0,onInput:_,onKeydown:[ve(r,["enter"]),ve(s,["tab"]),a(t).onInputKeydown],onBlur:x,onCompositionstart:T,onCompositionend:F,onPaste:A},{default:p(()=>[D(i.$slots,"default")]),_:3},8,["id","as","as-child","maxlength","placeholder","disabled","data-invalid","onKeydown"])}}}),[ta,Za]=Ye("TagsInputItem"),et=W({__name:"TagsInputItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(o){const g=o,{value:t}=Qe(g),e=ze(),{forwardRef:c,currentElement:x}=ce(),{CollectionItem:s}=Xe(),m=B(()=>e.selectedElement.value===x.value),T=B(()=>g.disabled||e.disabled.value),F=Za({value:t,isSelected:m,disabled:T,textId:"",displayValue:B(()=>e.displayValue(t.value))});return(r,_)=>(u(),h(a(s),{value:a(t)},{default:p(()=>[k(a(pe),{ref:a(c),as:r.as,"as-child":r.asChild,"aria-labelledby":a(F).textId,"aria-current":m.value,"data-disabled":T.value?"":void 0,"data-state":m.value?"active":"inactive"},{default:p(()=>[D(r.$slots,"default")]),_:3},8,["as","as-child","aria-labelledby","aria-current","data-disabled","data-state"])]),_:3},8,["value"]))}}),at=W({__name:"TagsInputItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(o){const g=o,t=ta();return ce(),t.textId||(t.textId=ma(void 0,"reka-tags-input-item-text")),(e,c)=>(u(),h(a(pe),j(g,{id:a(t).textId}),{default:p(()=>[D(e.$slots,"default",{},()=>[O(G(a(t).displayValue.value),1)])]),_:3},16,["id"]))}}),tt=W({__name:"TagsInputItemDelete",props:{asChild:{type:Boolean},as:{default:"button"}},setup(o){const g=o;ce();const t=ze(),e=ta(),c=B(()=>{var s;return((s=e.disabled)==null?void 0:s.value)||t.disabled.value});function x(){if(c.value)return;const s=t.modelValue.value.findIndex(m=>ea(m,e.value.value));t.onRemoveValue(s)}return(s,m)=>(u(),h(a(pe),j({tabindex:"-1"},g,{"aria-labelledby":a(e).textId,"aria-current":a(e).isSelected.value,"data-state":a(e).isSelected.value?"active":"inactive","data-disabled":c.value?"":void 0,type:s.as==="button"?"button":void 0,onClick:x}),{default:p(()=>[D(s.$slots,"default")]),_:3},16,["aria-labelledby","aria-current","data-state","data-disabled","type"]))}}),lt={slots:{root:"relative inline-flex items-center",base:["rounded-[calc(var(--ui-radius)*1.5)]","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-(--ui-text-dimmed)",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"group absolute inset-y-0 end-0 flex items-center disabled:cursor-not-allowed disabled:opacity-75",trailingIcon:"shrink-0 text-(--ui-text-dimmed)",arrow:"fill-(--ui-border)",content:"max-h-60 w-(--reka-popper-anchor-width) bg-(--ui-bg) shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-(--ui-border) overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] pointer-events-auto",viewport:"divide-y divide-(--ui-border) scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-(--ui-text-muted)",label:"font-semibold text-(--ui-text-highlighted)",separator:"-mx-1 my-1 h-px bg-(--ui-border)",item:["group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75 text-(--ui-text) data-highlighted:text-(--ui-text-highlighted) data-highlighted:before:bg-(--ui-bg-elevated)/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-(--ui-text-dimmed) group-data-highlighted:text-(--ui-text)","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",tagsItem:"px-1.5 py-0.5 rounded-(--ui-radius) font-medium inline-flex items-center gap-0.5 ring ring-inset ring-(--ui-border-accented) bg-(--ui-bg-elevated) text-(--ui-text) data-disabled:cursor-not-allowed data-disabled:opacity-75",tagsItemText:"truncate",tagsItemDelete:["inline-flex items-center rounded-[calc(var(--ui-radius)/2)] text-(--ui-text-dimmed) hover:text-(--ui-text) hover:bg-(--ui-bg-accented)/75 disabled:pointer-events-none","transition-colors"],tagsItemDeleteIcon:"",tagsInput:""},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",tagsItem:"text-sm",tagsItemDeleteIcon:"size-4"}},variant:{outline:"text-(--ui-text-highlighted) bg-(--ui-bg) ring ring-inset ring-(--ui-border-accented)",soft:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated)/50 hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-(--ui-bg-elevated)/50",subtle:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated) ring ring-inset ring-(--ui-border-accented)",ghost:"text-(--ui-text-highlighted) bg-transparent hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-transparent dark:disabled:bg-transparent",none:"text-(--ui-text-highlighted) bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-(--ui-text-muted) file:outline-none"},multiple:{true:{root:"flex-wrap",tagsInput:"border-0 bg-transparent placeholder:text-(--ui-text-dimmed) focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"},false:{base:"w-full border-0 placeholder:text-(--ui-text-dimmed) focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"}}},compoundVariants:[{color:"primary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-(--ui-primary)"},{color:"secondary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-(--ui-secondary)"},{color:"success",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-(--ui-success)"},{color:"info",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-(--ui-info)"},{color:"warning",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-(--ui-warning)"},{color:"error",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-(--ui-error)"},{color:"neutral",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-(--ui-border-inverted)"},{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-primary)"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-secondary)"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-success)"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-info)"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-warning)"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-error)"},{color:"primary",highlight:!0,class:"ring ring-inset ring-(--ui-primary)"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-(--ui-secondary)"},{color:"success",highlight:!0,class:"ring ring-inset ring-(--ui-success)"},{color:"info",highlight:!0,class:"ring ring-inset ring-(--ui-info)"},{color:"warning",highlight:!0,class:"ring ring-inset ring-(--ui-warning)"},{color:"error",highlight:!0,class:"ring ring-inset ring-(--ui-error)"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-border-inverted)"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-(--ui-border-inverted)"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},it=va;var Je;const st=Oe({extend:Oe(lt),...((Je=it.ui)==null?void 0:Je.inputMenu)||{}}),nt=W({inheritAttrs:!1,__name:"InputMenu",props:je({as:{},id:{},type:{default:"text"},placeholder:{},color:{},variant:{},size:{},required:{type:Boolean},autofocus:{type:Boolean},autofocusDelay:{default:0},trailingIcon:{},selectedIcon:{},deleteIcon:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},valueKey:{},labelKey:{default:"label"},items:{},defaultValue:{},modelValue:{},multiple:{type:Boolean},highlight:{type:Boolean},createItem:{type:[Boolean,String,Object]},filterFields:{},ignoreFilter:{type:Boolean},class:{},ui:{},open:{type:Boolean},defaultOpen:{type:Boolean},disabled:{type:Boolean},name:{},resetSearchTermOnBlur:{type:Boolean},highlightOnHover:{type:Boolean},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},loading:{type:Boolean},loadingIcon:{}},{searchTerm:{default:""},searchTermModifiers:{}}),emits:je(["highlight","update:open","change","blur","focus","create","update:modelValue"],["update:searchTerm"]),setup(o,{expose:g,emit:t}){const e=o,c=t,x=ba(),s=ha(o,"searchTerm"),{t:m}=ya(),T=Ia(),{contains:F}=xa({sensitivity:"base"}),r=_a(za(e,"as","modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","highlightOnHover","ignoreFilter"),c),_=xe(()=>Me(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),A=xe(()=>e.arrow),{emitFormBlur:i,emitFormFocus:n,emitFormChange:y,emitFormInput:V,size:K,color:q,id:N,name:I,highlight:Y,disabled:te,ariaAttrs:le}=wa(e),{orientation:v,size:C}=ka(e),{isLeading:L,isTrailing:E,leadingIconName:w,trailingIconName:J}=Aa(xe(()=>Me(e,{trailingIcon:T.ui.icons.chevronDown}))),Z=B(()=>C.value||K.value),[la,we]=Ta(),d=B(()=>st({color:q.value,variant:e.variant,size:Z==null?void 0:Z.value,loading:e.loading,highlight:Y.value,leading:L.value||!!e.avatar||!!x.leading,trailing:E.value||!!x.trailing,multiple:e.multiple,buttonGroup:v.value}));function ye(l){if(!e.valueKey)return l&&(typeof l=="object"?Q(l,e.labelKey):l);const f=ia.value.find($=>qe(typeof $=="object"?Q($,e.valueKey):$,l));return f&&(typeof f=="object"?Q(f,e.labelKey):f)}const Ie=B(()=>{var l;return(l=e.items)!=null&&l.length?Array.isArray(e.items[0])?e.items:[e.items]:[]}),ia=B(()=>Ie.value.flatMap(l=>l)),ke=B(()=>{if(e.ignoreFilter||!s.value)return Ie.value;const l=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return Ie.value.map(f=>f.filter($=>typeof $!="object"?F($,s.value):$.type&&["label","separator"].includes($.type)?!0:l.some(P=>F(Q($,P),s.value)))).filter(f=>f.filter($=>!$.type||!["label","separator"].includes($.type)).length>0)}),Ae=B(()=>ke.value.flatMap(l=>l)),Te=B(()=>{if(!e.createItem||!s.value)return!1;const l=e.valueKey?{[e.valueKey]:s.value}:s.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!Ae.value.find(f=>qe(f,l,e.valueKey)):!Ae.value.length}),Ve=B(()=>typeof e.createItem=="object"?e.createItem.position:"bottom"),ge=me(null);function sa(){var l,f;e.autofocus&&((f=(l=ge.value)==null?void 0:l.$el)==null||f.focus())}Ze(()=>{setTimeout(()=>{sa()},e.autofocusDelay)});function na(l){if(Oa(e.modelValue)===l)return;const f=new Event("change",{target:{value:l}});c("change",f),y(),V()}function Ce(l){c("blur",l),i()}function $e(l){c("focus",l),n()}function oa(l){if(l){const f=new FocusEvent("focus");c("focus",f)}else{const f=new FocusEvent("blur");c("blur",f),i()}}function ra(l){if(e.multiple){const $=e.modelValue.filter(P=>!ea(P,l));c("update:modelValue",$)}}return g({inputRef:ge}),(l,f)=>{var $;return u(),X(ae,null,[k(a(la),null,{default:p(()=>{var P;return[k(a(Ne),{class:z(d.value.group({class:(P=e.ui)==null?void 0:P.group}))},{default:p(()=>{var ie;return[k(a(He),{class:z(d.value.item({class:(ie=e.ui)==null?void 0:ie.item})),value:s.value,onSelect:f[0]||(f[0]=Ue(ee=>c("create",s.value),["prevent"]))},{default:p(()=>{var ee;return[fe("span",{class:z(d.value.itemLabel({class:(ee=e.ui)==null?void 0:ee.itemLabel}))},[D(l.$slots,"create-item-label",{item:s.value},()=>[O(G(a(m)("inputMenu.create",{label:s.value})),1)])],2)]}),_:3},8,["class","value"])]}),_:3},8,["class"])]}),_:3}),k(a(Va),j({id:a(N)},a(r),{name:a(I),disabled:a(te),class:d.value.root({class:[e.class,($=e.ui)==null?void 0:$.root]}),"as-child":!!l.multiple,"ignore-filter":"","onUpdate:modelValue":na,"onUpdate:open":oa,onKeydown:f[4]||(f[4]=ve(P=>P.preventDefault(),["enter"]))}),{default:p(({modelValue:P,open:ie})=>{var ee;return[k(a(Ca),{"as-child":!l.multiple,class:z(d.value.base({class:(ee=e.ui)==null?void 0:ee.base}))},{default:p(()=>{var se,ne;return[l.multiple?(u(),h(a(Xa),{key:0,"model-value":P,disabled:a(te),required:l.required,delimiter:"","as-child":"",onBlur:Ce,onFocus:$e,onRemoveTag:ra},{default:p(({modelValue:R})=>[(u(!0),X(ae,null,_e(R,(S,H)=>{var oe;return u(),h(a(et),{key:H,value:S,class:z(d.value.tagsItem({class:(oe=e.ui)==null?void 0:oe.tagsItem}))},{default:p(()=>{var re,b;return[k(a(at),{class:z(d.value.tagsItemText({class:(re=e.ui)==null?void 0:re.tagsItemText}))},{default:p(()=>[D(l.$slots,"tags-item-text",{item:S,index:H},()=>[O(G(ye(S)),1)])]),_:2},1032,["class"]),k(a(tt),{class:z(d.value.tagsItemDelete({class:(b=e.ui)==null?void 0:b.tagsItemDelete})),disabled:a(te)},{default:p(()=>[D(l.$slots,"tags-item-delete",{item:S,index:H},()=>{var U;return[k(de,{name:l.deleteIcon||a(T).ui.icons.close,class:z(d.value.tagsItemDeleteIcon({class:(U=e.ui)==null?void 0:U.tagsItemDeleteIcon}))},null,8,["name","class"])]})]),_:2},1032,["class","disabled"])]}),_:2},1032,["value","class"])}),128)),k(a(Ge),{modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=S=>s.value=S),"display-value":ye,"as-child":""},{default:p(()=>{var S;return[k(a(Ya),j({ref_key:"inputRef",ref:ge},{...l.$attrs,...a(le)},{placeholder:l.placeholder,class:d.value.tagsInput({class:(S=e.ui)==null?void 0:S.tagsInput}),onKeydown:f[1]||(f[1]=ve(Ue(()=>{},["prevent"]),["enter"]))}),null,16,["placeholder","class"])]}),_:1},8,["modelValue"])]),_:2},1032,["model-value","disabled","required"])):(u(),h(a(Ge),j({key:1,ref_key:"inputRef",ref:ge,modelValue:s.value,"onUpdate:modelValue":f[3]||(f[3]=R=>s.value=R),"display-value":ye},{...l.$attrs,...a(le)},{type:l.type,placeholder:l.placeholder,required:l.required,onBlur:Ce,onFocus:$e}),null,16,["modelValue","type","placeholder","required"])),a(L)||l.avatar||x.leading?(u(),X("span",{key:2,class:z(d.value.leading({class:(se=e.ui)==null?void 0:se.leading}))},[D(l.$slots,"leading",{modelValue:P,open:ie,ui:d.value},()=>{var R,S,H;return[a(L)&&a(w)?(u(),h(de,{key:0,name:a(w),class:z(d.value.leadingIcon({class:(R=e.ui)==null?void 0:R.leadingIcon}))},null,8,["name","class"])):l.avatar?(u(),h(We,j({key:1,size:((S=e.ui)==null?void 0:S.itemLeadingAvatarSize)||d.value.itemLeadingAvatarSize()},l.avatar,{class:d.value.itemLeadingAvatar({class:(H=e.ui)==null?void 0:H.itemLeadingAvatar})}),null,16,["size","class"])):M("",!0)]})],2)):M("",!0),a(E)||x.trailing?(u(),h(a($a),{key:3,class:z(d.value.trailing({class:(ne=e.ui)==null?void 0:ne.trailing}))},{default:p(()=>[D(l.$slots,"trailing",{modelValue:P,open:ie,ui:d.value},()=>{var R;return[a(J)?(u(),h(de,{key:0,name:a(J),class:z(d.value.trailingIcon({class:(R=e.ui)==null?void 0:R.trailingIcon}))},null,8,["name","class"])):M("",!0)]})]),_:2},1032,["class"])):M("",!0)]}),_:2},1032,["as-child","class"]),k(a(Ba),{disabled:!l.portal},{default:p(()=>{var se;return[k(a(La),j({class:d.value.content({class:(se=e.ui)==null?void 0:se.content})},_.value),{default:p(()=>{var ne,R,S;return[k(a(Sa),{class:z(d.value.empty({class:(ne=e.ui)==null?void 0:ne.empty}))},{default:p(()=>[D(l.$slots,"empty",{searchTerm:s.value},()=>[O(G(s.value?a(m)("inputMenu.noMatch",{searchTerm:s.value}):a(m)("inputMenu.noData")),1)])]),_:3},8,["class"]),k(a(Da),{class:z(d.value.viewport({class:(R=e.ui)==null?void 0:R.viewport}))},{default:p(()=>[Te.value&&Ve.value==="top"?(u(),h(a(we),{key:0})):M("",!0),(u(!0),X(ae,null,_e(ke.value,(H,oe)=>{var re;return u(),h(a(Ne),{key:`group-${oe}`,class:z(d.value.group({class:(re=e.ui)==null?void 0:re.group}))},{default:p(()=>[(u(!0),X(ae,null,_e(H,(b,U)=>{var Be,Le,Se;return u(),X(ae,{key:`group-${oe}-${U}`},[(b==null?void 0:b.type)==="label"?(u(),h(a(Fa),{key:0,class:z(d.value.label({class:(Be=e.ui)==null?void 0:Be.label}))},{default:p(()=>[O(G(a(Q)(b,e.labelKey)),1)]),_:2},1032,["class"])):(b==null?void 0:b.type)==="separator"?(u(),h(a(Ea),{key:1,class:z(d.value.separator({class:(Le=e.ui)==null?void 0:Le.separator}))},null,8,["class"])):(u(),h(a(He),{key:2,class:z(d.value.item({class:(Se=e.ui)==null?void 0:Se.item})),disabled:b.disabled,value:l.valueKey&&typeof b=="object"?a(Q)(b,e.valueKey):b,onSelect:b.onSelect},{default:p(()=>[D(l.$slots,"item",{item:b,index:U},()=>{var De,Fe;return[D(l.$slots,"item-leading",{item:b,index:U},()=>{var ue,Ee,Pe,Re,Ke;return[b.icon?(u(),h(de,{key:0,name:b.icon,class:z(d.value.itemLeadingIcon({class:(ue=e.ui)==null?void 0:ue.itemLeadingIcon}))},null,8,["name","class"])):b.avatar?(u(),h(We,j({key:1,size:((Ee=e.ui)==null?void 0:Ee.itemLeadingAvatarSize)||d.value.itemLeadingAvatarSize(),ref_for:!0},b.avatar,{class:d.value.itemLeadingAvatar({class:(Pe=e.ui)==null?void 0:Pe.itemLeadingAvatar})}),null,16,["size","class"])):b.chip?(u(),h(Pa,j({key:2,size:((Re=e.ui)==null?void 0:Re.itemLeadingChipSize)||d.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},b.chip,{class:d.value.itemLeadingChip({class:(Ke=e.ui)==null?void 0:Ke.itemLeadingChip})}),null,16,["size","class"])):M("",!0)]}),fe("span",{class:z(d.value.itemLabel({class:(De=e.ui)==null?void 0:De.itemLabel}))},[D(l.$slots,"item-label",{item:b,index:U},()=>[O(G(typeof b=="object"?a(Q)(b,e.labelKey):b),1)])],2),fe("span",{class:z(d.value.itemTrailing({class:(Fe=e.ui)==null?void 0:Fe.itemTrailing}))},[D(l.$slots,"item-trailing",{item:b,index:U}),k(a(Ra),{"as-child":""},{default:p(()=>{var ue;return[k(de,{name:l.selectedIcon||a(T).ui.icons.check,class:z(d.value.itemTrailingIcon({class:(ue=e.ui)==null?void 0:ue.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),Te.value&&Ve.value==="bottom"?(u(),h(a(we),{key:1})):M("",!0)]),_:3},8,["class"]),l.arrow?(u(),h(a(Ka),j({key:0},A.value,{class:d.value.arrow({class:(S=e.ui)==null?void 0:S.arrow})}),null,16,["class"])):M("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]}),_:3},16,["id","name","disabled","class","as-child"])],64)}}}),ot=W({__name:"index",setup(o){const g=ja(),{plans:t,planDependencies:e,pagePlan:c,planMap:x}=Ma(),s=r=>{const _=x.value.get(r);return`${_.done?"✅":""} ${_.id} - ${_.title}`},m=B(()=>t.data.value.filter(r=>!r.archived&&!r.done).map(r=>({id:r.uuid,label:s(r.uuid),slug:String(r.id)}))),T=B(()=>c.value?e.data.value.filter(r=>r.plan===c.value.uuid).map(r=>({id:r.depends_on,label:s(r.depends_on),slug:String(x.value.get(r.depends_on).id)})):[]),F=B({get(){return T.value},set(r){var i;if(!c.value)return;const _=r==null?void 0:r.filter(n=>{var y;return!((y=T.value)!=null&&y.some(V=>n.id===V.id))});_==null||_.forEach(n=>{var y;return e.create({created_by:(y=g.value)==null?void 0:y.id,plan:c.value.uuid,depends_on:n.id})});const A=(i=T.value)==null?void 0:i.filter(n=>!(r!=null&&r.some(y=>n.id===y.id)));A==null||A.forEach(n=>{const y=e.data.value.find(V=>V.plan===c.value.uuid&&V.depends_on===n.id);y&&e.remove(y.uuid)})}});return(r,_)=>{const A=qa,i=nt;return u(),X(ae,null,[_[1]||(_[1]=fe("span",null,"Blockers:",-1)),k(i,{modelValue:a(F),"onUpdate:modelValue":_[0]||(_[0]=n=>Na(F)?F.value=n:null),class:"w-full dark:border-green-400",size:"xl",variant:"outline",multiple:"",items:a(m)},{"tags-item-text":p(({item:n})=>[k(A,{to:{name:"projects-id",params:{id:n.slug}}},{default:p(()=>[O(G(n.label),1)]),_:2},1032,["to"])]),"item-label":p(({item:n})=>[O(G(n.label),1)]),_:1},8,["modelValue","items"])],64)}}}),rt={};function ut(o,g){const t=ot,e=be;return u(),h(e,null,{default:p(()=>[k(t)]),_:1})}const dt=he(rt,[["render",ut]]),ct={};function pt(o,g){const t=be;return u(),h(t,null,{default:p(()=>g[0]||(g[0]=[O(" Tracking ")])),_:1})}const gt=he(ct,[["render",pt]]),ft={};function mt(o,g){const t=be;return u(),h(t,null,{default:p(()=>g[0]||(g[0]=[O(" budget ")])),_:1})}const vt=he(ft,[["render",mt]]),bt={};function ht(o,g){const t=be;return u(),h(t,null,{default:p(()=>g[0]||(g[0]=[O(" Expenses ")])),_:1})}const yt=he(bt,[["render",ht]]),wt=W({__name:"[[tab]]",setup(o){const g=Ha(),t={overview:Ga,tasks:dt,tracking:gt,budget:vt,expenses:yt};return(e,c)=>(u(),h(Ua(t[a(g).params.tab.toLowerCase()])))}});export{wt as default};
