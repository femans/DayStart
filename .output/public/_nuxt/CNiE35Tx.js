import{aj as G,A as z,e as $,ai as me,l as k,ah as Ve,W as q,a0 as Ie,m as h,o as b,w as m,b as F,h as s,P as D,B as x,aM as Re,aN as Se,ae as De,aO as Ke,y as I,x as ge,z as Ee,p as P,C as Oe,D as B,E as he,G as ye,a7 as Ce,aP as we,aQ as Ae,r as K,X as ie,aR as Le,aS as Y,a4 as ke,aT as Me,aU as ze,aV as qe,aW as Ne,L as N,aX as He,aY as le,aZ as je,a_ as Ue,d as L,t as O,a$ as Ge,O as xe,am as _e,a5 as Q,a6 as Z,b0 as We,b1 as Xe,b2 as Ye,a9 as Qe,q as T,T as S,U as H,Q as $e,an as ue,ao as Ze,c as V,F as Je,s as et,j as Te,n as W,aK as tt,b3 as at,I as nt,K as de,M as ot,N as st,R as rt,S as it,a as lt,k as ut}from"./CByrxgib.js";function X(t){return t==null}function ce(t,n){return X(t)?!1:Array.isArray(t)?t.some(e=>G(e,n)):G(t,n)}const[dt,Xt]=z("RovingFocusGroup"),[ct,Yt]=z("CheckboxGroupRoot"),pt=$({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!0},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const n=t,e=dt(),a=me(),r=k(()=>n.tabStopId||a),f=k(()=>e.currentTabStopId.value===r.value),{getItems:u,CollectionItem:p}=Ve();q(()=>{n.focusable&&e.onFocusableItemAdd()}),Ie(()=>{n.focusable&&e.onFocusableItemRemove()});function i(o){if(o.key==="Tab"&&o.shiftKey){e.onItemShiftTab();return}if(o.target!==o.currentTarget)return;const l=Re(o,e.orientation.value,e.dir.value);if(l!==void 0){if(o.metaKey||o.ctrlKey||o.altKey||!n.allowShiftKey&&o.shiftKey)return;o.preventDefault();let d=[...u().map(v=>v.ref).filter(v=>v.dataset.disabled!=="")];if(l==="last")d.reverse();else if(l==="prev"||l==="next"){l==="prev"&&d.reverse();const v=d.indexOf(o.currentTarget);d=e.loop.value?Se(d,v+1):d.slice(v+1)}De(()=>Ke(d))}}return(o,l)=>(b(),h(s(p),null,{default:m(()=>[F(s(D),{tabindex:f.value?0:-1,"data-orientation":s(e).orientation.value,"data-active":o.active,"data-disabled":o.focusable?void 0:"",as:o.as,"as-child":o.asChild,onMousedown:l[0]||(l[0]=d=>{o.focusable?s(e).onItemFocus(r.value):d.preventDefault()}),onFocus:l[1]||(l[1]=d=>s(e).onItemFocus(r.value)),onKeydown:i},{default:m(()=>[x(o.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}});function M(t){return t==="indeterminate"}function Be(t){return M(t)?"indeterminate":t?"checked":"unchecked"}const[ft,vt]=z("CheckboxRoot"),bt=$({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:n}){const e=t,a=n,{forwardRef:r,currentElement:f}=I(),u=ct(null),p=ge(e,"modelValue",a,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),i=k(()=>(u==null?void 0:u.disabled.value)||e.disabled),o=k(()=>X(u==null?void 0:u.modelValue.value)?p.value==="indeterminate"?"indeterminate":p.value:ce(u.modelValue.value,e.value));function l(){if(X(u==null?void 0:u.modelValue.value))p.value=M(p.value)?!0:!p.value;else{const c=[...u.modelValue.value||[]];if(ce(c,e.value)){const w=c.findIndex(_=>G(_,e.value));c.splice(w,1)}else c.push(e.value);u.modelValue.value=c}}const d=Ee(f),v=k(()=>{var c;return e.id&&f.value?(c=document.querySelector(`[for="${e.id}"]`))==null?void 0:c.innerText:void 0});return vt({disabled:i,state:o}),(c,w)=>{var _,y;return b(),h(Ce((_=s(u))!=null&&_.rovingFocus.value?s(pt):s(D)),B(c.$attrs,{id:c.id,ref:s(r),role:"checkbox","as-child":c.asChild,as:c.as,type:c.as==="button"?"button":void 0,"aria-checked":s(M)(o.value)?"mixed":o.value,"aria-required":c.required,"aria-label":c.$attrs["aria-label"]||v.value,"data-state":s(Be)(o.value),"data-disabled":i.value?"":void 0,disabled:i.value,focusable:(y=s(u))!=null&&y.rovingFocus.value?!i.value:void 0,onKeydown:he(ye(()=>{},["prevent"]),["enter"]),onClick:l}),{default:m(()=>[x(c.$slots,"default",{modelValue:s(p),state:o.value}),s(d)&&c.name&&!s(u)?(b(),h(s(Oe),{key:0,type:"checkbox",checked:!!o.value,name:c.name,value:c.value,disabled:i.value,required:c.required},null,8,["checked","name","value","disabled","required"])):P("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),mt=$({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:n}=I(),e=ft();return(a,r)=>(b(),h(s(we),{present:a.forceMount||s(M)(s(e).state.value)||s(e).state.value===!0},{default:m(()=>[F(s(D),B({ref:s(n),"data-state":s(Be)(s(e).state.value),"data-disabled":s(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":a.asChild,as:a.as},a.$attrs),{default:m(()=>[x(a.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}});function gt(t,n){const e=Ae(!1,300),a=K(null),r=Le();function f(){a.value=null,e.value=!1}function u(p,i){const o=p.currentTarget,l={x:p.clientX,y:p.clientY},d=ht(l,o.getBoundingClientRect()),v=yt(l,d),c=Ct(i.getBoundingClientRect()),w=kt([...v,...c]);a.value=w,e.value=!0}return ie(p=>{if(t.value&&n.value){const i=l=>u(l,n.value),o=l=>u(l,t.value);t.value.addEventListener("pointerleave",i),n.value.addEventListener("pointerleave",o),p(()=>{var l,d;(l=t.value)==null||l.removeEventListener("pointerleave",i),(d=n.value)==null||d.removeEventListener("pointerleave",o)})}}),ie(p=>{var i;if(a.value){const o=l=>{var y,C;if(!a.value)return;const d=l.target,v={x:l.clientX,y:l.clientY},c=((y=t.value)==null?void 0:y.contains(d))||((C=n.value)==null?void 0:C.contains(d)),w=!wt(v,a.value),_=!!d.closest("[data-grace-area-trigger]");c?f():(w||_)&&(f(),r.trigger())};(i=t.value)==null||i.ownerDocument.addEventListener("pointermove",o),p(()=>{var l;return(l=t.value)==null?void 0:l.ownerDocument.removeEventListener("pointermove",o)})}}),{isPointerInTransit:e,onPointerExit:r.on}}function ht(t,n){const e=Math.abs(n.top-t.y),a=Math.abs(n.bottom-t.y),r=Math.abs(n.right-t.x),f=Math.abs(n.left-t.x);switch(Math.min(e,a,r,f)){case f:return"left";case r:return"right";case e:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function yt(t,n,e=5){const a=[];switch(n){case"top":a.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":a.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":a.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":a.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return a}function Ct(t){const{top:n,right:e,bottom:a,left:r}=t;return[{x:r,y:n},{x:e,y:n},{x:e,y:a},{x:r,y:a}]}function wt(t,n){const{x:e,y:a}=t;let r=!1;for(let f=0,u=n.length-1;f<n.length;u=f++){const p=n[f].x,i=n[f].y,o=n[u].x,l=n[u].y;i>a!=l>a&&e<(o-p)*(a-i)/(l-i)+p&&(r=!r)}return r}function kt(t){const n=t.slice();return n.sort((e,a)=>e.x<a.x?-1:e.x>a.x?1:e.y<a.y?-1:e.y>a.y?1:0),xt(n)}function xt(t){if(t.length<=1)return t.slice();const n=[];for(let a=0;a<t.length;a++){const r=t[a];for(;n.length>=2;){const f=n[n.length-1],u=n[n.length-2];if((f.x-u.x)*(r.y-u.y)>=(f.y-u.y)*(r.x-u.x))n.pop();else break}n.push(r)}n.pop();const e=[];for(let a=t.length-1;a>=0;a--){const r=t[a];for(;e.length>=2;){const f=e[e.length-1],u=e[e.length-2];if((f.x-u.x)*(r.y-u.y)>=(f.y-u.y)*(r.x-u.x))e.pop();else break}e.push(r)}return e.pop(),n.length===1&&e.length===1&&n[0].x===e[0].x&&n[0].y===e[0].y?n:n.concat(e)}const _t=$({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(t){const n=t;return I(),(e,a)=>(b(),h(s(D),B(n,{onMousedown:a[0]||(a[0]=r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})}),{default:m(()=>[x(e.$slots,"default")]),_:3},16))}}),Pe="tooltip.open",[j,$t]=z("TooltipRoot"),Tt=$({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:n}){const e=t,a=n;I();const r=Y(),f=k(()=>e.disableHoverableContent??r.disableHoverableContent.value),u=k(()=>e.disableClosingTrigger??r.disableClosingTrigger.value),p=k(()=>e.disabled??r.disabled.value),i=k(()=>e.delayDuration??r.delayDuration.value),o=k(()=>e.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),l=ge(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0});ke(l,g=>{r.onClose&&(g?(r.onOpen(),document.dispatchEvent(new CustomEvent(Pe))):r.onClose())});const d=K(!1),v=K(),c=k(()=>l.value?d.value?"delayed-open":"instant-open":"closed"),{start:w,stop:_}=Me(()=>{d.value=!0,l.value=!0},i,{immediate:!1});function y(){_(),d.value=!1,l.value=!0}function C(){_(),l.value=!1}function R(){w()}return $t({contentId:"",open:l,stateAttribute:c,trigger:v,onTriggerChange(g){v.value=g},onTriggerEnter(){r.isOpenDelayed.value?R():y()},onTriggerLeave(){f.value?C():_()},onOpen:y,onClose:C,disableHoverableContent:f,disableClosingTrigger:u,disabled:p,ignoreNonKeyboardFocus:o}),(g,E)=>(b(),h(s(ze),null,{default:m(()=>[x(g.$slots,"default",{open:s(l)})]),_:3}))}}),Bt=$({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const n=t,e=j(),a=Y();e.contentId||(e.contentId=me(void 0,"reka-tooltip-content"));const{forwardRef:r,currentElement:f}=I(),u=K(!1),p=K(!1),i=k(()=>e.disabled.value?{}:{click:_,focus:c,pointermove:d,pointerleave:v,pointerdown:l,blur:w});q(()=>{e.onTriggerChange(f.value)});function o(){setTimeout(()=>{u.value=!1},1)}function l(){u.value=!0,document.addEventListener("pointerup",o,{once:!0})}function d(y){y.pointerType!=="touch"&&!p.value&&!a.isPointerInTransitRef.value&&(e.onTriggerEnter(),p.value=!0)}function v(){e.onTriggerLeave(),p.value=!1}function c(y){var C,R;u.value||e.ignoreNonKeyboardFocus.value&&!((R=(C=y.target).matches)!=null&&R.call(C,":focus-visible"))||e.onOpen()}function w(){e.onClose()}function _(){e.disableClosingTrigger.value||e.onClose()}return(y,C)=>(b(),h(s(Ne),{"as-child":"",reference:y.reference},{default:m(()=>[F(s(D),B({ref:s(r),"aria-describedby":s(e).open.value?s(e).contentId:void 0,"data-state":s(e).stateAttribute.value,as:y.as,"as-child":n.asChild,"data-grace-area-trigger":""},qe(i.value)),{default:m(()=>[x(y.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),Fe=$({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:n}){const e=t,a=n,r=j(),{forwardRef:f}=I(),u=N(),p=k(()=>{var l;return(l=u.default)==null?void 0:l.call(u,{})}),i=k(()=>{var v;if(e.ariaLabel)return e.ariaLabel;let l="";function d(c){typeof c.children=="string"&&c.type!==He?l+=c.children:Array.isArray(c.children)&&c.children.forEach(w=>d(w))}return(v=p.value)==null||v.forEach(c=>d(c)),l}),o=k(()=>{const{ariaLabel:l,...d}=e;return d});return q(()=>{le(window,"scroll",l=>{const d=l.target;d!=null&&d.contains(r.trigger.value)&&r.onClose()}),le(window,Pe,r.onClose)}),(l,d)=>(b(),h(s(Ge),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:d[0]||(d[0]=v=>a("escapeKeyDown",v)),onPointerDownOutside:d[1]||(d[1]=v=>{var c;s(r).disableClosingTrigger.value&&((c=s(r).trigger.value)!=null&&c.contains(v.target))&&v.preventDefault(),a("pointerDownOutside",v)}),onFocusOutside:d[2]||(d[2]=ye(()=>{},["prevent"])),onDismiss:d[3]||(d[3]=v=>s(r).onClose())},{default:m(()=>[F(s(je),B({ref:s(f),"data-state":s(r).stateAttribute.value},{...l.$attrs,...o.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:m(()=>[x(l.$slots,"default"),F(s(Ue),{id:s(r).contentId,role:"tooltip"},{default:m(()=>[L(O(i.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Pt=$({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(t){const e=xe(t),{forwardRef:a,currentElement:r}=I(),{trigger:f,onClose:u}=j(),p=Y(),{isPointerInTransit:i,onPointerExit:o}=gt(f,r);return p.isPointerInTransitRef=i,o(()=>{u()}),(l,d)=>(b(),h(Fe,B({ref:s(a)},s(e)),{default:m(()=>[x(l.$slots,"default")]),_:3},16))}}),Ft=$({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:n}){const e=t,a=n,r=j(),f=_e(e,a),{forwardRef:u}=I();return(p,i)=>(b(),h(s(we),{present:p.forceMount||s(r).open.value},{default:m(()=>[(b(),h(Ce(s(r).disableHoverableContent.value?Fe:Pt),B({ref:s(u)},s(f)),{default:m(()=>[x(p.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Vt=$({__name:"TooltipArrow",props:{width:{default:10},height:{default:5},asChild:{type:Boolean},as:{default:"svg"}},setup(t){const n=t;return I(),(e,a)=>(b(),h(s(We),Q(Z(n)),{default:m(()=>[x(e.$slots,"default")]),_:3},16))}}),It=$({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const n=t;return(e,a)=>(b(),h(s(Xe),Q(Z(n)),{default:m(()=>[x(e.$slots,"default")]),_:3},16))}}),A={meta:"",ctrl:"",alt:"",win:"⊞",command:"⌘",shift:"⇧",option:"⌥",enter:"↵",delete:"⌦",backspace:"⌫",escape:"⎋",tab:"⇥",capslock:"⇪",arrowup:"↑",arrowright:"→",arrowdown:"↓",arrowleft:"←",pageup:"⇞",pagedown:"⇟",home:"↖",end:"↘"},Rt=()=>{const t=k(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),n=Qe({meta:" ",alt:" ",ctrl:" "});q(()=>{n.meta=t.value?A.command:A.win,n.alt=t.value?A.option:"alt",n.ctrl=t.value?"⌃":"ctrl"});function e(a){if(a)return["meta","alt","ctrl"].includes(a)?n[a]:A[a]||a.toUpperCase()}return{macOS:t,getKbdKey:e}},St=Ye(Rt),Dt={base:"inline-flex items-center justify-center px-1 rounded-(--ui-radius) font-medium font-sans",variants:{variant:{solid:"bg-(--ui-bg-inverted) text-(--ui-bg)",outline:"bg-(--ui-bg) text-(--ui-text-highlighted) ring ring-inset ring-(--ui-border-accented)",subtle:"bg-(--ui-bg-elevated) text-(--ui-text) ring ring-inset ring-(--ui-border-accented)"},size:{sm:"h-4 min-w-[16px] text-[10px]",md:"h-5 min-w-[20px] text-[11px]",lg:"h-6 min-w-[24px] text-[12px]"}},defaultVariants:{variant:"outline",size:"md"}},Kt=H;var pe;const Et=S({extend:S(Dt),...((pe=Kt.ui)==null?void 0:pe.kbd)||{}}),Ot=$({__name:"Kbd",props:{as:{default:"kbd"},value:{},variant:{},size:{},class:{}},setup(t){const n=t,{getKbdKey:e}=St();return(a,r)=>(b(),h(s(D),{as:a.as,class:T(s(Et)({variant:a.variant,size:a.size,class:n.class}))},{default:m(()=>[x(a.$slots,"default",{},()=>[L(O(s(e)(a.value)),1)])]),_:3},8,["as","class"]))}}),At={slots:{content:"flex items-center gap-1 bg-(--ui-bg) text-(--ui-text-highlighted) shadow-sm rounded-(--ui-radius) ring ring-(--ui-border) h-6 px-2 py-1 text-xs select-none data-[state=delayed-open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] pointer-events-auto",arrow:"fill-(--ui-border)",text:"truncate",kbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5 before:content-['·'] before:me-0.5",kbdsSize:"sm"}},Lt=H;var fe;const Mt=S({extend:S(At),...((fe=Lt.ui)==null?void 0:fe.tooltip)||{}}),zt=$({__name:"Tooltip",props:{text:{},kbds:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},class:{},ui:{},defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:n}){const e=t,a=n,r=N(),f=_e($e(e,"defaultOpen","open","delayDuration","disableHoverableContent","disableClosingTrigger","disabled","ignoreNonKeyboardFocus"),a),u=ue(()=>Ze(e.content,{side:"bottom",sideOffset:8,collisionPadding:8})),p=ue(()=>e.arrow),i=k(()=>Mt({side:u.value.side}));return(o,l)=>(b(),h(s(Tt),Q(Z(s(f))),{default:m(({open:d})=>[r.default?(b(),h(s(Bt),B({key:0},o.$attrs,{"as-child":"",class:e.class}),{default:m(()=>[x(o.$slots,"default",{open:d})]),_:2},1040,["class"])):P("",!0),F(s(It),{disabled:!o.portal},{default:m(()=>{var v;return[F(s(Ft),B(u.value,{class:i.value.content({class:[!r.default&&e.class,(v=e.ui)==null?void 0:v.content]})}),{default:m(()=>{var c;return[x(o.$slots,"content",{},()=>{var w,_,y;return[o.text?(b(),V("span",{key:0,class:T(i.value.text({class:(w=e.ui)==null?void 0:w.text}))},O(o.text),3)):P("",!0),(_=o.kbds)!=null&&_.length?(b(),V("span",{key:1,class:T(i.value.kbds({class:(y=e.ui)==null?void 0:y.kbds}))},[(b(!0),V(Je,null,et(o.kbds,(C,R)=>{var g;return b(),h(Ot,B({key:R,size:((g=e.ui)==null?void 0:g.kbdsSize)||i.value.kbdsSize(),ref_for:!0},typeof C=="string"?{value:C}:C),null,16,["size"])}),128))],2)):P("",!0)]}),o.arrow?(b(),h(s(Vt),B({key:0},p.value,{class:i.value.arrow({class:(c=e.ui)==null?void 0:c.arrow})}),null,16,["class"])):P("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]),_:3},16))}}),Qt=$({__name:"BlockersIcon",props:{plan:{}},setup(t){const{blockers:n,planMap:e}=Te();return(a,r)=>{var p,i;const f=W,u=zt;return a.plan&&((p=s(n).get(a.plan.id))!=null&&p.length)?(b(),h(u,{key:0,text:`First finish: ${(i=s(n).get(a.plan.id))==null?void 0:i.map(o=>{var l;return`'${o} - ${(l=s(e).get(o))==null?void 0:l.title}'`}).join(", ")}`},{default:m(()=>[F(f,B({name:"i-heroicons-hand-raised"},a.$attrs),null,16)]),_:1},8,["text"])):P("",!0)}}}),Zt=$({inheritAttrs:!1,__name:"ValidatedInput",props:{plan:{},field:{},inputType:{}},setup(t){var u;const{updatePlan:n}=Te(),e=t,a=K(String(((u=e.plan)==null?void 0:u[e.field])??"")),r=k(()=>e.inputType==="text"||a.value===void 0||!isNaN(Number(a.value))),f=p=>{if(r.value){let i=p.target.value;i===""&&e.inputType==="number"&&(i=null),n({uuid:e.plan.uuid,[e.field]:i})}};return ke(()=>e.plan,p=>{p&&(a.value=String(p[e.field]||""))},{deep:!0,immediate:!0}),(p,i)=>p.plan.id!==void 0?tt((b(),V("input",B({key:0,"onUpdate:modelValue":i[0]||(i[0]=o=>nt(a)?a.value=o:null)},p.$attrs,{class:["transition-all",{"bg-red-300":!s(r)}],onChange:f,onKeydown:i[1]||(i[1]=he(o=>o.target.blur(),["enter"]))}),null,16)),[[at,s(a)]]):P("",!0)}}),qt={slots:{root:"relative flex items-start",base:"shrink-0 flex items-center justify-center rounded-(--ui-radius) text-(--ui-bg) ring ring-inset ring-(--ui-border-accented) focus-visible:outline-2 focus-visible:outline-offset-2",container:"flex items-center",wrapper:"ms-2",icon:"shrink-0 size-full",label:"block font-medium text-(--ui-text)",description:"text-(--ui-text-muted)"},variants:{color:{primary:"focus-visible:outline-(--ui-primary)",secondary:"focus-visible:outline-(--ui-secondary)",success:"focus-visible:outline-(--ui-success)",info:"focus-visible:outline-(--ui-info)",warning:"focus-visible:outline-(--ui-warning)",error:"focus-visible:outline-(--ui-error)",neutral:"focus-visible:outline-(--ui-border-inverted)"},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-(--ui-error)"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{color:"primary",checked:!0,class:"ring-2 ring-(--ui-primary) bg-(--ui-primary)"},{color:"secondary",checked:!0,class:"ring-2 ring-(--ui-secondary) bg-(--ui-secondary)"},{color:"success",checked:!0,class:"ring-2 ring-(--ui-success) bg-(--ui-success)"},{color:"info",checked:!0,class:"ring-2 ring-(--ui-info) bg-(--ui-info)"},{color:"warning",checked:!0,class:"ring-2 ring-(--ui-warning) bg-(--ui-warning)"},{color:"error",checked:!0,class:"ring-2 ring-(--ui-error) bg-(--ui-error)"},{color:"neutral",checked:!0,class:"ring-2 ring-(--ui-border-inverted) bg-(--ui-bg-inverted)"}],defaultVariants:{size:"md",color:"primary"}},Nt=H;var ve;const Ht=S({extend:S(qt),...((ve=Nt.ui)==null?void 0:ve.checkbox)||{}}),Jt=$({inheritAttrs:!1,__name:"Checkbox",props:de({as:{},label:{},description:{},color:{},size:{},icon:{},indeterminateIcon:{},class:{},ui:{},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},defaultValue:{type:[Boolean,String]}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:de(["change"],["update:modelValue"]),setup(t,{emit:n}){const e=t,a=N(),r=n,f=ot(t,"modelValue"),u=xe($e(e,"required","value","defaultValue")),p=st(),{id:i,emitFormChange:o,emitFormInput:l,size:d,color:v,name:c,disabled:w,ariaAttrs:_}=rt(e),y=i.value??it(),C=k(()=>Ht({size:d.value,color:v.value,required:e.required,disabled:w.value,checked:!!(f.value??e.defaultValue)}));function R(g){const E=new Event("change",{target:{value:g}});r("change",E),o(),l()}return(g,E)=>{var J;return b(),h(s(D),{as:g.as,class:T(C.value.root({class:[e.class,(J=e.ui)==null?void 0:J.root]}))},{default:m(()=>{var ee,te,ae,ne,oe;return[lt("div",{class:T(C.value.container({class:(ee=e.ui)==null?void 0:ee.container}))},[F(s(bt),B({id:s(y)},{...s(u),...g.$attrs,...s(_)},{modelValue:f.value,"onUpdate:modelValue":[E[0]||(E[0]=U=>f.value=U),R],name:s(c),disabled:s(w),class:C.value.base({class:(te=e.ui)==null?void 0:te.base})}),{default:m(({modelValue:U})=>[F(s(mt),{"as-child":""},{default:m(()=>{var se,re;return[U==="indeterminate"?(b(),h(W,{key:0,name:g.indeterminateIcon||s(p).ui.icons.minus,class:T(C.value.icon({class:(se=e.ui)==null?void 0:se.icon}))},null,8,["name","class"])):(b(),h(W,{key:1,name:g.icon||s(p).ui.icons.check,class:T(C.value.icon({class:(re=e.ui)==null?void 0:re.icon}))},null,8,["name","class"]))]}),_:2},1024)]),_:1},16,["id","modelValue","name","disabled","class"])],2),g.label||a.label||g.description||a.description?(b(),V("div",{key:0,class:T(C.value.wrapper({class:(ae=e.ui)==null?void 0:ae.wrapper}))},[g.label||a.label?(b(),h(s(_t),{key:0,for:s(y),class:T(C.value.label({class:(ne=e.ui)==null?void 0:ne.label}))},{default:m(()=>[x(g.$slots,"label",{label:g.label},()=>[L(O(g.label),1)])]),_:3},8,["for","class"])):P("",!0),g.description||a.description?(b(),V("p",{key:1,class:T(C.value.description({class:(oe=e.ui)==null?void 0:oe.description}))},[x(g.$slots,"description",{description:g.description},()=>[L(O(g.description),1)])],2)):P("",!0)],2)):P("",!0)]}),_:3},8,["as","class"])}}}),jt={slots:{root:"rounded-[calc(var(--ui-radius)*2)]",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-(--ui-bg-inverted) text-(--ui-bg)"},outline:{root:"bg-(--ui-bg) ring ring-(--ui-border) divide-y divide-(--ui-border)"},soft:{root:"bg-(--ui-bg-elevated)/50 divide-y divide-(--ui-border)"},subtle:{root:"bg-(--ui-bg-elevated)/50 ring ring-(--ui-border) divide-y divide-(--ui-border)"}}},defaultVariants:{variant:"outline"}},Ut=H;var be;const Gt=S({extend:S(jt),...((be=Ut.ui)==null?void 0:be.card)||{}}),ea=$({__name:"Card",props:{as:{},variant:{},class:{},ui:{}},setup(t){const n=t,e=N(),a=k(()=>Gt({variant:n.variant}));return(r,f)=>{var u;return b(),h(s(D),{as:r.as,class:T(a.value.root({class:[n.class,(u=n.ui)==null?void 0:u.root]}))},{default:m(()=>{var p,i,o;return[e.header?(b(),V("div",{key:0,class:T(a.value.header({class:(p=n.ui)==null?void 0:p.header}))},[x(r.$slots,"header")],2)):P("",!0),e.default?(b(),V("div",{key:1,class:T(a.value.body({class:(i=n.ui)==null?void 0:i.body}))},[x(r.$slots,"default")],2)):P("",!0),e.footer?(b(),V("div",{key:2,class:T(a.value.footer({class:(o=n.ui)==null?void 0:o.footer}))},[x(r.$slots,"footer")],2)):P("",!0)]}),_:3},8,["as","class"])}}}),ta=()=>{const t=ut("plans",{verbose:!0,autoFetch:!0}),n=async i=>{await t.update(i.uuid,{done:!i.done})},e=i=>t.data.value.filter(o=>o.parent===i&&o.done&&!o.archived).length,a=i=>t.data.value.filter(o=>o.parent===i&&!o.done&&!o.archived).length,r=i=>t.data.value.filter(o=>o.parent===i&&!o.archived).length,f=(i,o)=>t.data.value.filter(l=>l.parent===i&&!l.archived).reduce((l,d)=>l+(d[o]||0),0),u=(i,o)=>i[o]!==null&&f(i.uuid,o)>i[o];return{completePlan:n,finishedChildren:e,unfinishedChildren:a,totalChildren:r,calculatedTimeRequired:f,redFlag:u,placeholder:(i,o)=>{if(i.done||i.archived)return"(0)";if(u(i,o))return"!";const l=i.parent&&t.data.value.find(({uuid:d})=>d===i.parent);if(l){if(u(l,o))return"!";const d=t.data.value.filter(c=>c.parent===l.uuid&&!c.done&&!c.archived&&c[o]===null),v=t.data.value.filter(c=>c.parent===l.uuid&&!c.archived&&c[o]).reduce((c,w)=>c+w[o],0);return d?`(${l[o]?((l[o]-v)/d.length).toFixed(1).replace(/\.0$/,""):"0"})`:"err"}else if(r(i.uuid))return`(${f(i.uuid,o)})`;return""}}};export{ea as _,zt as a,Qt as b,Zt as c,Jt as d,_t as e,X as i,ta as u};
